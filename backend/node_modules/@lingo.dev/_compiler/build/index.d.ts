import { NextConfig } from 'next';
import { LocaleCode } from '@lingo.dev/_spec';

/**
 * Options for configuring Lingo.dev Compiler.
 */
type CompilerParams = {
    /**
     * The locale to translate from.
     *
     * This must match one of the following formats:
     *
     * - [ISO 639-1 language code](https://en.wikipedia.org/wiki/ISO_639-1) (e.g., `"en"`)
     * - [IETF BCP 47 language tag](https://en.wikipedia.org/wiki/IETF_language_tag) (e.g., `"en-US"`)
     *
     * @default "en"
     */
    sourceLocale: LocaleCode;
    /**
     * The locale(s) to translate to.
     *
     * Each locale must match one of the following formats:
     *
     * - [ISO 639-1 language code](https://en.wikipedia.org/wiki/ISO_639-1) (e.g., `"en"`)
     * - [IETF BCP 47 language tag](https://en.wikipedia.org/wiki/IETF_language_tag) (e.g., `"en-US"`)
     *
     * @default ["es"]
     */
    targetLocales: LocaleCode[];
    /**
     * The name of the directory where translation files will be stored, relative to `sourceRoot`.
     *
     * @default "lingo"
     */
    lingoDir: string;
    /**
     * The directory of the source code that will be translated, relative to the current working directory.
     *
     * @default "src"
     */
    sourceRoot: string;
    /**
     * If `true`, the compiler will generate code for React Server Components (RSC).
     *
     * When using Vite, this value is always `false`.
     *
     * When using Next.js, this value is always `true`.
     *
     * @default false
     */
    rsc: boolean;
    /**
     * If `true`, the compiler will only localize files that use the `"use i18n";` directive.
     *
     * @default false
     */
    useDirective: boolean;
    /**
     * If `true`, the compiler will log additional information to the console.
     *
     * @default false
     */
    debug: boolean;
    /**
     * The model(s) to use for translation.
     *
     * If set to `"lingo.dev"`, the compiler will use Lingo.dev Engine.
     *
     * If set to an object, the compiler will use the model(s) specified in the object:
     *
     * - The key is a string that represents the source and target locales, separated by a colon (e.g., `"en:es"`).
     * - The value is a string that represents the LLM provider and model, separated by a colon (e.g., `"google:gemini-2.0-flash"`).
     *
     * You can use `*` as a wildcard to match any locale.
     *
     * If a model is not specified, an error will be thrown.
     *
     * @default {}
     */
    models: "lingo.dev" | ModelMap;
    /**
     * Custom system prompt for the translation engine. If set, this prompt will override the default system prompt defined in Compiler.
     * Only works with custom models, not with Lingo.dev Engine.
     *
     * Example: "You are a helpful assistant that translates {SOURCE_LOCALE} to {TARGET_LOCALE}."
     *
     * @default null
     */
    prompt?: string | null;
};
/**
 * A mapping between locale pairings and the model to use to translate that pairing.
 */
type ModelMap = {
    [key in SourceTargetLocale]?: ModelIdentifier;
};
/**
 * A pairing of a source and target locale.
 */
type SourceTargetLocale = LocalePair | AnyTargetLocale | AnySourceLocale | AnyLocale;
/**
 * A translation from a specific source locale to a specific target locale.
 */
type LocalePair = `${LocaleCode}:${LocaleCode}`;
/**
 * A translation from a specific source locale to any target locale.
 */
type AnyTargetLocale = `${LocaleCode}:${LocaleWildcard}`;
/**
 * A translation from any source locale to a specific target locale.
 */
type AnySourceLocale = `${LocaleWildcard}:${LocaleCode}`;
/**
 * A translation from any source locale to any target locale.
 */
type AnyLocale = `${LocaleWildcard}:${LocaleWildcard}`;
/**
 * A wildcard symbol that matches any locale.
 */
type LocaleWildcard = "*";
/**
 * The colon-separated identifier of a model to use for translation.
 */
type ModelIdentifier = `${string}:${string}`;
declare const defaultParams: CompilerParams;

declare const _default: {
    /**
     * Initializes Lingo.dev Compiler for Next.js (App Router).
     *
     * @param compilerParams - The compiler parameters.
     *
     * @returns The Next.js configuration.
     *
     * @example Configuration for Next.js's default template
     * ```ts
     * import lingoCompiler from "lingo.dev/compiler";
     * import type { NextConfig } from "next";
     *
     * const nextConfig: NextConfig = {
     *   /* config options here *\/
     * };
     *
     * export default lingoCompiler.next({
     *   sourceRoot: "app",
     *   models: "lingo.dev",
     * })(nextConfig);
     * ```
     */
    next: (compilerParams?: Partial<typeof defaultParams> & {
        turbopack?: {
            enabled?: boolean | "auto";
            useLegacyTurbo?: boolean;
        };
    }) => (nextConfig?: any) => NextConfig;
    /**
     * Initializes Lingo.dev Compiler for Vite.
     *
     * @param compilerParams - The compiler parameters.
     *
     * @returns The Vite configuration.
     *
     * @example Configuration for Vite's "react-ts" template
     * ```ts
     * import { defineConfig, type UserConfig } from "vite";
     * import react from "@vitejs/plugin-react";
     * import lingoCompiler from "lingo.dev/compiler";
     *
     * // https://vite.dev/config/
     * const viteConfig: UserConfig = {
     *   plugins: [react()],
     * };
     *
     * export default defineConfig(() =>
     *   lingoCompiler.vite({
     *     models: "lingo.dev",
     *   })(viteConfig)
     * );
     * ```
     *
     * @example Configuration for React Router's default template
     * ```ts
     * import { reactRouter } from "@react-router/dev/vite";
     * import tailwindcss from "@tailwindcss/vite";
     * import lingoCompiler from "lingo.dev/compiler";
     * import { defineConfig, type UserConfig } from "vite";
     * import tsconfigPaths from "vite-tsconfig-paths";
     *
     * const viteConfig: UserConfig = {
     *   plugins: [tailwindcss(), reactRouter(), tsconfigPaths()],
     * };
     *
     * export default defineConfig(() =>
     *   lingoCompiler.vite({
     *     sourceRoot: "app",
     *     models: "lingo.dev",
     *   })(viteConfig)
     * );
     * ```
     */
    vite: (compilerParams?: Partial<typeof defaultParams>) => (config: any) => any;
};

export { _default as default };
