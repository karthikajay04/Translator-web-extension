import Z from 'zod';
import { LocaleCode } from '@lingo.dev/_spec';

declare const engineParamsSchema: Z.ZodObject<{
    apiKey: Z.ZodString;
    apiUrl: Z.ZodDefault<Z.ZodString>;
    batchSize: Z.ZodDefault<Z.ZodNumber>;
    idealBatchItemSize: Z.ZodDefault<Z.ZodNumber>;
}, "passthrough", Z.ZodTypeAny, Z.objectOutputType<{
    apiKey: Z.ZodString;
    apiUrl: Z.ZodDefault<Z.ZodString>;
    batchSize: Z.ZodDefault<Z.ZodNumber>;
    idealBatchItemSize: Z.ZodDefault<Z.ZodNumber>;
}, Z.ZodTypeAny, "passthrough">, Z.objectInputType<{
    apiKey: Z.ZodString;
    apiUrl: Z.ZodDefault<Z.ZodString>;
    batchSize: Z.ZodDefault<Z.ZodNumber>;
    idealBatchItemSize: Z.ZodDefault<Z.ZodNumber>;
}, Z.ZodTypeAny, "passthrough">>;
declare const payloadSchema: Z.ZodRecord<Z.ZodString, Z.ZodAny>;
declare const localizationParamsSchema: Z.ZodObject<{
    sourceLocale: Z.ZodUnion<[Z.ZodEffects<Z.ZodString, string, string>, Z.ZodNull]>;
    targetLocale: Z.ZodEffects<Z.ZodString, string, string>;
    fast: Z.ZodOptional<Z.ZodBoolean>;
    reference: Z.ZodOptional<Z.ZodRecord<Z.ZodEffects<Z.ZodString, string, string>, Z.ZodRecord<Z.ZodString, Z.ZodAny>>>;
    hints: Z.ZodOptional<Z.ZodRecord<Z.ZodString, Z.ZodArray<Z.ZodString, "many">>>;
}, "strip", Z.ZodTypeAny, {
    sourceLocale: string | null;
    targetLocale: string;
    fast?: boolean | undefined;
    reference?: Record<string, Record<string, any>> | undefined;
    hints?: Record<string, string[]> | undefined;
}, {
    sourceLocale: string | null;
    targetLocale: string;
    fast?: boolean | undefined;
    reference?: Record<string, Record<string, any>> | undefined;
    hints?: Record<string, string[]> | undefined;
}>;
/**
 * LingoDotDevEngine class for interacting with the LingoDotDev API
 * A powerful localization engine that supports various content types including
 * plain text, objects, chat sequences, and HTML documents.
 */
declare class LingoDotDevEngine {
    protected config: Z.infer<typeof engineParamsSchema>;
    /**
     * Create a new LingoDotDevEngine instance
     * @param config - Configuration options for the Engine
     */
    constructor(config: Partial<Z.infer<typeof engineParamsSchema>>);
    /**
     * Localize content using the Lingo.dev API
     * @param payload - The content to be localized
     * @param params - Localization parameters including source/target locales and fast mode option
     * @param progressCallback - Optional callback function to report progress (0-100)
     * @param signal - Optional AbortSignal to cancel the operation
     * @returns Localized content
     * @internal
     */
    _localizeRaw(payload: Z.infer<typeof payloadSchema>, params: Z.infer<typeof localizationParamsSchema>, progressCallback?: (progress: number, sourceChunk: Record<string, string>, processedChunk: Record<string, string>) => void, signal?: AbortSignal): Promise<Record<string, string>>;
    /**
     * Localize a single chunk of content
     * @param sourceLocale - Source locale
     * @param targetLocale - Target locale
     * @param payload - Payload containing the chunk to be localized
     * @param workflowId - Workflow ID for tracking
     * @param fast - Whether to use fast mode
     * @param signal - Optional AbortSignal to cancel the operation
     * @returns Localized chunk
     */
    private localizeChunk;
    /**
     * Extract payload chunks based on the ideal chunk size
     * @param payload - The payload to be chunked
     * @returns An array of payload chunks
     */
    private extractPayloadChunks;
    /**
     * Count words in a record or array
     * @param payload - The payload to count words in
     * @returns The total number of words
     */
    private countWordsInRecord;
    /**
     * Localize a typical JavaScript object
     * @param obj - The object to be localized (strings will be extracted and translated)
     * @param params - Localization parameters:
     *   - sourceLocale: The source language code (e.g., 'en')
     *   - targetLocale: The target language code (e.g., 'es')
     *   - fast: Optional boolean to enable fast mode (faster but potentially lower quality)
     * @param progressCallback - Optional callback function to report progress (0-100)
     * @param signal - Optional AbortSignal to cancel the operation
     * @returns A new object with the same structure but localized string values
     */
    localizeObject(obj: Record<string, any>, params: Z.infer<typeof localizationParamsSchema>, progressCallback?: (progress: number, sourceChunk: Record<string, string>, processedChunk: Record<string, string>) => void, signal?: AbortSignal): Promise<Record<string, any>>;
    /**
     * Localize a single text string
     * @param text - The text string to be localized
     * @param params - Localization parameters:
     *   - sourceLocale: The source language code (e.g., 'en')
     *   - targetLocale: The target language code (e.g., 'es')
     *   - fast: Optional boolean to enable fast mode (faster for bigger batches)
     * @param progressCallback - Optional callback function to report progress (0-100)
     * @param signal - Optional AbortSignal to cancel the operation
     * @returns The localized text string
     */
    localizeText(text: string, params: Z.infer<typeof localizationParamsSchema>, progressCallback?: (progress: number) => void, signal?: AbortSignal): Promise<string>;
    /**
     * Localize a text string to multiple target locales
     * @param text - The text string to be localized
     * @param params - Localization parameters:
     *   - sourceLocale: The source language code (e.g., 'en')
     *   - targetLocales: An array of target language codes (e.g., ['es', 'fr'])
     *   - fast: Optional boolean to enable fast mode (for bigger batches)
     * @param signal - Optional AbortSignal to cancel the operation
     * @returns An array of localized text strings
     */
    batchLocalizeText(text: string, params: {
        sourceLocale: LocaleCode;
        targetLocales: LocaleCode[];
        fast?: boolean;
    }, signal?: AbortSignal): Promise<string[]>;
    /**
     * Localize an array of strings
     * @param strings - An array of strings to be localized
     * @param params - Localization parameters:
     *   - sourceLocale: The source language code (e.g., 'en')
     *   - targetLocale: The target language code (e.g., 'es')
     *   - fast: Optional boolean to enable fast mode (faster for bigger batches)
     * @returns An array of localized strings in the same order
     */
    localizeStringArray(strings: string[], params: Z.infer<typeof localizationParamsSchema>): Promise<string[]>;
    /**
     * Localize a chat sequence while preserving speaker names
     * @param chat - Array of chat messages, each with 'name' and 'text' properties
     * @param params - Localization parameters:
     *   - sourceLocale: The source language code (e.g., 'en')
     *   - targetLocale: The target language code (e.g., 'es')
     *   - fast: Optional boolean to enable fast mode (faster but potentially lower quality)
     * @param progressCallback - Optional callback function to report progress (0-100)
     * @param signal - Optional AbortSignal to cancel the operation
     * @returns Array of localized chat messages with preserved structure
     */
    localizeChat(chat: Array<{
        name: string;
        text: string;
    }>, params: Z.infer<typeof localizationParamsSchema>, progressCallback?: (progress: number) => void, signal?: AbortSignal): Promise<Array<{
        name: string;
        text: string;
    }>>;
    /**
     * Localize an HTML document while preserving structure and formatting
     * Handles both text content and localizable attributes (alt, title, placeholder, meta content)
     * @param html - The HTML document string to be localized
     * @param params - Localization parameters:
     *   - sourceLocale: The source language code (e.g., 'en')
     *   - targetLocale: The target language code (e.g., 'es')
     *   - fast: Optional boolean to enable fast mode (faster but potentially lower quality)
     * @param progressCallback - Optional callback function to report progress (0-100)
     * @param signal - Optional AbortSignal to cancel the operation
     * @returns The localized HTML document as a string, with updated lang attribute
     */
    localizeHtml(html: string, params: Z.infer<typeof localizationParamsSchema>, progressCallback?: (progress: number) => void, signal?: AbortSignal): Promise<string>;
    /**
     * Detect the language of a given text
     * @param text - The text to analyze
     * @param signal - Optional AbortSignal to cancel the operation
     * @returns Promise resolving to a locale code (e.g., 'en', 'es', 'fr')
     */
    recognizeLocale(text: string, signal?: AbortSignal): Promise<LocaleCode>;
    whoami(signal?: AbortSignal): Promise<{
        email: string;
        id: string;
    } | null>;
}
/**
 * @deprecated Use LingoDotDevEngine instead. This class is maintained for backwards compatibility.
 */
declare class ReplexicaEngine extends LingoDotDevEngine {
    private static hasWarnedDeprecation;
    constructor(config: Partial<Z.infer<typeof engineParamsSchema>>);
}
/**
 * @deprecated Use LingoDotDevEngine instead. This class is maintained for backwards compatibility.
 */
declare class LingoEngine extends LingoDotDevEngine {
    private static hasWarnedDeprecation;
    constructor(config: Partial<Z.infer<typeof engineParamsSchema>>);
}

export { LingoDotDevEngine, LingoEngine, ReplexicaEngine };
