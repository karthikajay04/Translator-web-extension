import { jsx } from "react/jsx-runtime";
import { describe, it, expect } from "vitest";
import { renderToStaticMarkup } from "react-dom/server";
import { LingoHtmlComponent } from "./component.js";
import { LingoContext } from "./context.js";
describe("client/component", () => {
  describe("LingoHtmlComponent", () => {
    it("sets lang and data-lingodotdev-compiler from context dictionary locale", () => {
      const dictionary = { locale: "ja" };
      const markup = renderToStaticMarkup(
        /* @__PURE__ */ jsx(LingoContext.Provider, { value: { dictionary }, children: /* @__PURE__ */ jsx(LingoHtmlComponent, {}) })
      );
      expect(markup).toContain("<html");
      expect(markup).toContain('lang="ja"');
      expect(markup).toContain('data-lingodotdev-compiler="ja"');
    });
  });
});
